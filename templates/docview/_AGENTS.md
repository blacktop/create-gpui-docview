# GPUI Document-View Application

This is a **complete document-view application** generated by `create-gpui-docview`.

## Project Structure

This workspace contains a full-featured GPUI application with:

### Core Components

1. **MenuBar** (`crates/menubar/`)
   - Complete menu system with File, Edit, View, Window, Help menus
   - Each menu item emits `MenuBarAction` events
   - Fully integrated with keyboard shortcuts

2. **KeyBindings** (`crates/keybinds/`)
   - Centralized keyboard shortcut system
   - Parses bindings like "cmd+n", "ctrl+shift+f"
   - Maps keystrokes to `MenuBarAction` events

3. **StatusBar** (`crates/statusbar/`)
   - Footer component showing file info
   - Displays cursor position, line count, encoding, EOL
   - Updates reactively when files are selected

4. **Pane System** (`crates/pane/`)
   - Tab management with close buttons
   - Split pane support for side-by-side views
   - Active tab tracking and state management

5. **Panels** (`crates/panels/`)
   - FileTree: Lazy-loading file browser
   - Settings: Workspace preferences panel
   - Terminal: Embedded terminal panel

6. **Modals** (`crates/modals/`)
   - SettingsModal: Full-screen overlay settings
   - Picker: Command palette / file picker
   - Dialog: Confirmation dialogs

7. **Theme** (`crates/theme/`)
   - Centralized color and spacing system
   - Dark theme with accent colors
   - Consistent typography and sizing

## Application Features

### Layout

- **Menu Bar**: Always visible at the top with all menus
- **Sidebar**: Resizable file tree on the left (can be toggled with `cmd+b`)
- **Document Area**: Center pane with tabs and editor
- **Status Bar**: Footer showing file and cursor info (can be toggled with `cmd+j`)

### Interactions

- Click files in sidebar to open them
- Drag the sidebar handle to resize
- Use keyboard shortcuts for all menu actions
- `cmd+,` opens settings modal overlay
- Tab close buttons to close documents

### Key Bindings

All menu items have keyboard shortcuts. See `crates/keybinds/src/lib.rs` for the full list.

## Development Guide

### Adding New Features

1. **New Menu Item**: Add to `MenuBarAction` enum and menu definitions
2. **New Panel**: Implement `Panel` trait from docking crate
3. **New Modal**: Follow pattern in `modals/src/settings_modal.rs`
4. **New Theme**: Extend `WorkspaceColors` in theme crate

### Main Application Flow

The main app (`crates/PROJECT_NAME/src/main.rs`) coordinates:

1. Menu bar actions via subscriptions
2. File tree interactions
3. Modal lifecycle
4. Layout state (sidebar visibility, etc.)
5. Keyboard event handling

### State Management

- Use GPUI's entity system (`cx.entity()`) for components
- Subscribe to events with `cx.subscribe()`
- Update entities with `.update()` method
- Use `cx.notify()` to trigger re-renders

## References

- **GPUI Docs**: https://docs.rs/gpui/latest/gpui/
- **Zed Source**: https://github.com/zed-industries/zed/tree/main/crates/gpui
- **GPUI Components**: https://github.com/longbridge/gpui-component
